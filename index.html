<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Turnierplan</title>
<style>
body {
  font-family: Arial, sans-serif;
  padding: 20px;
}

.hidden { display: none; }

button {
  padding: 8px 12px;
  margin: 5px 0;
  cursor: pointer;
}

.selected {
  background: #4caf50;
  color: white;
}

.bracket {
  display: flex;
  justify-content: space-between;
  margin-top: 40px;
}

.side {
  width: 45%;
  display: flex;
  flex-direction: column;
  gap: 40px;
}

.match {
  border-left: 2px solid black;
  padding-left: 20px;
}

.player {
  display: block;
  width: 150px;
}
</style>
</head>
<body>

<!-- STARTSEITE -->
<div id="start">
  <h2>Spieleranzahl</h2>
  <input type="number" id="playerCount" min="2" step="2" value="8">
  <br>
  <button onclick="goToNames()">Weiter</button>
</div>

<!-- NAMENSEINGABE -->
<div id="names" class="hidden">
  <h2>Spielernamen</h2>
  <div id="nameInputs"></div>
  <button onclick="startTournament()">Turnier starten</button>
</div>

<!-- TURNIER -->
<div id="tournament" class="hidden">
  <h2>Turnierplan</h2>
  <div class="bracket" id="bracket"></div>
</div>

<script>
let players = [];

function goToNames() {
  const count = document.getElementById("playerCount").value;
  if (count < 2 || count % 2 !== 0) {
    alert("Bitte gerade Zahl â‰¥ 2");
    return;
  }

  document.getElementById("start").classList.add("hidden");
  document.getElementById("names").classList.remove("hidden");

  const container = document.getElementById("nameInputs");
  container.innerHTML = "";

  for (let i = 0; i < count; i++) {
    const input = document.createElement("input");
    input.placeholder = "Spieler " + (i + 1);
    container.appendChild(input);
    container.appendChild(document.createElement("br"));
  }
}

function startTournament() {
  const inputs = document.querySelectorAll("#nameInputs input");
  players = Array.from(inputs).map(i => i.value || "Spieler");

  document.getElementById("names").classList.add("hidden");
  document.getElementById("tournament").classList.remove("hidden");

  createBracket(players);
}

function createBracket(players) {
  const bracket = document.getElementById("bracket");
  bracket.innerHTML = "";

  const half = players.length / 2;
  const leftPlayers = players.slice(0, half);
  const rightPlayers = players.slice(half);

  bracket.appendChild(createSide(leftPlayers));
  bracket.appendChild(createSide(rightPlayers));
}

function createSide(players) {
  const side = document.createElement("div");
  side.className = "side";

  for (let i = 0; i < players.length; i += 2) {
    const match = document.createElement("div");
    match.className = "match";

    const p1 = createPlayerButton(players[i], match);
    const p2 = createPlayerButton(players[i + 1], match);

    match.appendChild(p1);
    match.appendChild(p2);
    side.appendChild(match);
  }
  return side;
}

function createPlayerButton(name, match) {
  const btn = document.createElement("button");
  btn.className = "player";
  btn.textContent = name;

  btn.onclick = () => {
    match.querySelectorAll("button").forEach(b => b.classList.remove("selected"));
    btn.classList.add("selected");
  };

  return btn;
}
</script>

</body>
</html>
